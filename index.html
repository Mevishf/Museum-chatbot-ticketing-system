<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuseoBot</title>
    <style>
        body {
            font-family: 'Helvetica', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: url('/static/images/Indian-Music-Museum-9.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .chat-container {
            width: 90%;
            max-width: 800px;
            height: 95vh;
            max-height: 1200px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background-color: #e63946;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.8em;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            background-color: white;
            padding: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .chat-box {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: rgba(249, 249, 249, 0.9);
            display: flex;
            flex-direction: column;
            scroll-behavior: smooth;
            gap: 10px;
        }

        .chat-history {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .current-response {
            padding-top: 20px;
            border-top: 1px solid #eee;
            background-color: rgba(249, 249, 249, 0.95);
            margin-top: 10px;
            margin-bottom: 20px;
        }

        .message {
            margin: 10px 0;
            padding: 15px;
            border-radius: 15px;
            max-width: 70%;
            word-wrap: break-word;
        }

        .user {
            background-color: #e63946;
            color: white;
            margin-left: auto;
            border-radius: 15px 15px 0 15px;
        }

        .bot {
            background-color: #f0f0f0;
            color: #333;
            margin-right: auto;
            border-radius: 15px 15px 15px 0;
        }

        .input-area {
            padding: 20px;
            background-color: white;
            display: flex;
            gap: 10px;
            border-top: 1px solid #eee;
        }

        input {
            flex-grow: 1;
            padding: 15px;
            border: 2px solid #f4a261;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }

        button {
            padding: 15px 25px;
            background-color: #f4a261;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 16px;
        }

        button:hover {
            background-color: #e76f51;
        }

        .menu-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background-color: white;
            border-top: 1px solid #eee;
        }

        .menu-button {
            flex: 1;
            min-width: 150px;
            padding: 12px;
            background-color: #e63946;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 14px;
        }

        .menu-button:hover {
            background-color: #e76f51;
            transform: translateY(-2px);
        }

        /* Add smooth scrollbar */
        .chat-box::-webkit-scrollbar {
            width: 8px;
        }

        .chat-box::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .chat-box::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        .chat-box::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Add these new styles */
        .booking-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 10px 0;
        }

        .date-input, .time-input {
            padding: 10px;
            border: 2px solid #f4a261;
            border-radius: 8px;
            font-size: 16px;
            background-color: white;
            color: #333;
            cursor: pointer;
        }

        .date-input:focus, .time-input:focus {
            outline: none;
            border-color: #e63946;
        }

        /* Disable Mondays in the date picker */
        input[type="date"]::-webkit-calendar-picker-indicator {
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
        }

        .language-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .lang-button {
            padding: 15px 30px;
            background-color: #e63946;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .lang-button:hover {
            background-color: #e76f51;
            transform: translateY(-2px);
        }

        .museum-card {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .museum-options {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .museum-option {
            padding: 8px 15px;
            background-color: #f4a261;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .museum-info {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
        }

        .museum-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .fees-section, .events-list, .facilities-grid {
            margin-top: 15px;
        }

        .event-card, .facility-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .facility-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .number-picker {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .number-picker button {
            flex: 1;
            min-width: 40px;
        }

        .date-picker {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 2px solid #f4a261;
            border-radius: 8px;
        }

        .message.active {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <img src="static/images/new.png" alt="MuseoBot Logo" class="logo">
            MuseoBot - Your Museum Guide
        </div>
        <div class="chat-box" id="chat-box">
            <div class="message bot">
                Hello! I'm MuseoBot. Please select your language to begin your museum journey:<br><br>
                <div class="language-buttons">
                    <button onclick="selectLanguage('en')" class="lang-button">English üá¨üáß</button>
                    <button onclick="selectLanguage('kn')" class="lang-button">‡≤ï‡≤®‡≥ç‡≤®‡≤° üáÆüá≥</button>
                    <button onclick="selectLanguage('es')" class="lang-button">Espa√±ol üá™üá∏</button>
                </div>
            </div>
        </div>
        <div class="input-area">
            <input type="text" id="user-input" placeholder="Type your message..." onkeydown="if (event.key === 'Enter') sendMessage()">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        let currentLanguage = 'en';
        let selectedMuseum = null;
        let currentStep = 'language';  // Track conversation step

        const translations = {
            en: {
                welcome: "What would you like to do today?",
                exploreMuseums: "Top 10 Museums you can explore:",
                museumInfo: "What information do you need about %s?",
                ticketPrompt: "How many tickets do you want to book?",
                datePrompt: "Please select the date and time for your visit:",
                nationalityPrompt: "Please select your nationality:",
                invalidInput: "I didn't catch that. Can you please try again?",
                bookingSuccess: "Your tickets have been booked successfully! You will receive a QR code shortly.",
                indian: "Indian",
                foreigner: "Foreigner",
                timings: "Timings",
                fees: "Entry Fees",
                events: "Special Events",
                facilities: "Facilities",
                bookTickets: "Book Tickets",
                exploreButton: "Explore Museums",
                otherServices: "Other Services",
                confirmBooking: "Please confirm your booking details:",
                museumLabel: "Museum",
                dateLabel: "Date",
                timeLabel: "Time",
                ticketsLabel: "Number of tickets",
                proceedQuestion: "Would you like to proceed with the booking?",
                confirm: "Confirm",
                startOver: "Start Over",
                timePrompt: "Please select your preferred time:",
                selectTime: "Select Time",
                nationalityLabel: "Nationality",
                redirectingPayment: "Redirecting to payment page..."
            },
            kn: {
                welcome: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤á‡≤Ç‡≤¶‡≥Å ‡≤è‡≤®‡≥Å ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø?",
                exploreMuseums: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≤æ‡≤¶ ‡≤ü‡≤æ‡≤™‡≥ç 10 ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø‡≤ó‡≤≥‡≥Å:",
                museumInfo: "%s ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤Ø‡≤æ‡≤µ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤¨‡≥á‡≤ï‡≥Å?",
                ticketPrompt: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø?",
                datePrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≥á‡≤ü‡≤ø‡≤Ø ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤Æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                nationalityPrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                invalidInput: "‡≤ï‡≥ç‡≤∑‡≤Æ‡≤ø‡≤∏‡≤ø, ‡≤®‡≤®‡≤ó‡≥Ü ‡≤Ö‡≤∞‡≥ç‡≤•‡≤µ‡≤æ‡≤ó‡≤≤‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≤ø.",
                bookingSuccess: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Ø‡≤∂‡≤∏‡≥ç‡≤µ‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü! ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤∂‡≥Ä‡≤ò‡≥ç‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≥á QR ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥ç‡≤µ‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø.",
                indian: "‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø",
                foreigner: "‡≤µ‡≤ø‡≤¶‡≥á‡≤∂‡≤ø",
                timings: "‡≤∏‡≤Æ‡≤Ø‡≤ó‡≤≥‡≥Å",
                fees: "‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∂‡≥Å‡≤≤‡≥ç‡≤ï",
                events: "‡≤µ‡≤ø‡≤∂‡≥á‡≤∑ ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤ï‡≥ç‡≤∞‡≤Æ‡≤ó‡≤≥‡≥Å",
                facilities: "‡≤∏‡≥å‡≤≤‡≤≠‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å",
                bookTickets: "‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø",
                exploreButton: "‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤ø",
                otherServices: "‡≤á‡≤§‡≤∞ ‡≤∏‡≥á‡≤µ‡≥Ü‡≤ó‡≤≥‡≥Å",
                confirmBooking: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≥Å‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø:",
                museumLabel: "‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                dateLabel: "‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï",
                timeLabel: "‡≤∏‡≤Æ‡≤Ø",
                ticketsLabel: "‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü",
                proceedQuestion: "‡≤¨‡≥Å‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤µ‡≤ø‡≤∞‡≤æ?",
                confirm: "‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø",
                startOver: "‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø",
                timePrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤∑‡≥ç‡≤ü‡≤¶ ‡≤∏‡≤Æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                selectTime: "‡≤∏‡≤Æ‡≤Ø ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü",
                nationalityLabel: "‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø‡≤§‡≥Ü",
                redirectingPayment: "‡≤™‡≤∞‡≤µ‡≤§‡≤ø ‡≤™‡≥Å‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤™‡≥Å‡≤®‡≤∞‡≥ç‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≥á‡≤∂‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü..."
            },
            kn: {
                welcome: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤á‡≤Ç‡≤¶‡≥Å ‡≤è‡≤®‡≥Å ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø?",
                exploreMuseums: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≤æ‡≤¶ ‡≤ü‡≤æ‡≤™‡≥ç 10 ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø‡≤ó‡≤≥‡≥Å:",
                museumInfo: "%s ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤Ø‡≤æ‡≤µ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤¨‡≥á‡≤ï‡≥Å?",
                ticketPrompt: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤é‡≤∑‡≥ç‡≤ü‡≥Å ‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø?",
                datePrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≥á‡≤ü‡≤ø‡≤Ø ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤Æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                nationalityPrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                invalidInput: "‡≤ï‡≥ç‡≤∑‡≤Æ‡≤ø‡≤∏‡≤ø, ‡≤®‡≤®‡≤ó‡≥Ü ‡≤Ö‡≤∞‡≥ç‡≤•‡≤µ‡≤æ‡≤ó‡≤≤‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§ÔøΩÔøΩ‡≤®‡≤ø‡≤∏‡≤ø.",
                bookingSuccess: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Ø‡≤∂‡≤∏‡≥ç‡≤µ‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü! ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤∂‡≥Ä‡≤ò‡≥ç‡≤∞‡≤¶‡≤≤‡≥ç‡≤≤‡≥á QR ‡≤ï‡≥ã‡≤°‡≥ç ‡≤∏‡≥ç‡≤µ‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥Ä‡≤∞‡≤ø.",
                indian: "‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø",
                foreigner: "‡≤µ‡≤øÔøΩÔøΩ‡≥á‡≤∂‡≤ø",
                timings: "‡≤∏‡≤Æ‡≤Ø‡≤ó‡≤≥‡≥Å",
                fees: "‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∂‡≥Å‡≤≤‡≥ç‡≤ï",
                events: "‡≤µ‡≤ø‡≤∂‡≥á‡≤∑ ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤ï‡≥ç‡≤∞‡≤Æ‡≤ó‡≤≥‡≥Å",
                facilities: "‡≤∏‡≥å‡≤≤‡≤≠‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å",
                bookTickets: "‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç ‡≤¨‡≥Å‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø",
                exploreButton: "‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤ø",
                otherServices: "‡≤á‡≤§‡≤∞ ‡≤∏‡≥á‡≤µ‡≥Ü‡≤ó‡≤≥‡≥Å",
                confirmBooking: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≥Å‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø:",
                museumLabel: "‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                dateLabel: "‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï",
                timeLabel: "‡≤∏‡≤Æ‡≤Ø",
                ticketsLabel: "‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ü‡≥ç‚Äå‡≤ó‡≤≥ ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü",
                proceedQuestion: "‡≤¨‡≥Å‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤∏‡≤≤‡≥Å ‡≤¨‡≤Ø‡≤∏‡≥Å‡≤µ‡≤ø‡≤∞‡≤æ?",
                confirm: "‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤ø",
                startOver: "‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø",
                timePrompt: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤∑‡≥ç‡≤ü‡≤¶ ‡≤∏‡≤Æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø:",
                selectTime: "‡≤∏‡≤Æ‡≤Ø ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü",
                nationalityLabel: "‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø‡≤§‡≥Ü",
                redirectingPayment: "‡≤™‡≤∞‡≤µ‡≤§‡≤ø ‡≤™‡≥Å‡≤ü‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤™‡≥Å‡≤®‡≤∞‡≥ç‡≤®‡≤ø‡≤∞‡≥ç‡≤¶‡≥á‡≤∂‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü..."
            },
            es: {
                welcome: "¬øQu√© te gustar√≠a hacer hoy?",
                exploreMuseums: "Los 10 mejores museos que puedes explorar:",
                museumInfo: "¬øQu√© informaci√≥n necesitas sobre %s?",
                ticketPrompt: "¬øCu√°ntas entradas quieres reservar?",
                datePrompt: "Por favor, selecciona la fecha y hora de tu visita:",
                nationalityPrompt: "Por favor, selecciona tu nacionalidad:",
                invalidInput: "No entend√≠ eso. ¬øPuedes intentarlo de nuevo?",
                bookingSuccess: "¬°Tus entradas han sido reservadas con √©xito! Recibir√°s un c√≥digo QR en breve.",
                indian: "Indio",
                foreigner: "Extranjero",
                timings: "Horarios",
                fees: "Tarifas de entrada",
                events: "Eventos especiales",
                facilities: "Instalaciones",
                bookTickets: "Reservar entradas",
                exploreButton: "Explorar Museos",
                otherServices: "Otros Servicios",
                confirmBooking: "Por favor, confirma los detalles de tu reserva:",
                museumLabel: "Museo",
                dateLabel: "Fecha",
                timeLabel: "Hora",
                ticketsLabel: "N√∫mero de entradas",
                proceedQuestion: "¬øDeseas continuar con la reserva?",
                confirm: "Confirmar",
                startOver: "Empezar de nuevo",
                timePrompt: "Por favor, selecciona tu hora preferida:",
                selectTime: "Seleccionar Hora",
                nationalityLabel: "Nacionalidad",
                redirectingPayment: "Redirigiendo a la p√°gina de pago..."
            }
        };

        const detailTranslations = {
            en: {
                operatingHours: "Operating Hours",
                lastEntry: "Last entry",
                entryFees: "Entry Fees",
                indianNationals: "Indian Nationals",
                foreignNationals: "Foreign Nationals",
                adults: "Adults",
                children: "Children",
                students: "Students",
                specialEvents: "Special Events",
                facilities: "Available Facilities"
            },
            kn: {
                operatingHours: "‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤®‡≤ø‡≤∞‡≥ç‡≤µ‡≤π‡≤£‡≥Ü ‡≤∏‡≤Æ‡≤Ø",
                lastEntry: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂",
                entryFees: "‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∂‡≥Å‡≤≤‡≥ç‡≤ï",
                indianNationals: "‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø ‡≤®‡≤æ‡≤ó‡≤∞‡≤ø‡≤ï‡≤∞‡≥Å",
                foreignNationals: "‡≤µ‡≤ø‡≤¶‡≥á‡≤∂‡≤ø ‡≤®‡≤æ‡≤ó‡≤∞‡≤ø‡≤ï‡≤∞‡≥Å",
                adults: "‡≤µ‡≤Ø‡≤∏‡≥ç‡≤ï‡≤∞‡≥Å",
                children: "‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥‡≥Å",
                students: "‡≤µ‡≤ø‡≤¶‡≥ç‡≤Ø‡≤æ‡≤∞‡≥ç‡≤•‡≤ø‡≤ó‡≤≥‡≥Å",
                specialEvents: "‡≤µ‡≤ø‡≤∂‡≥á‡≤∑ ‡≤ï‡≤æ‡≤∞‡≥ç‡≤Ø‡≤ï‡≥ç‡≤∞‡≤Æ‡≤ó‡≤≥‡≥Å",
                facilities: "‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤∏‡≥å‡≤≤‡≤≠‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å"
            },
            es: {
                operatingHours: "Horario de Apertura",
                lastEntry: "√öltima entrada",
                entryFees: "Tarifas de Entrada",
                indianNationals: "Ciudadanos Indios",
                foreignNationals: "Extranjeros",
                adults: "Adultos",
                children: "Ni√±os",
                students: "Estudiantes",
                specialEvents: "Eventos Especiales",
                facilities: "Instalaciones Disponibles"
            }
        };

        function selectLanguage(lang) {
            currentLanguage = lang;
            const chatBox = document.getElementById("chat-box");
            
            // Show selected language as user's choice
            chatBox.innerHTML += `<div class="message user">${getLanguageName(lang)}</div>`;
            
            // Show welcome message in selected language
            chatBox.innerHTML += `<div class="message bot">${translations[lang].welcome}</div>`;
            
            // Show initial options in a chat bubble instead
            chatBox.innerHTML += `
                <div class="message bot">
                    <div class="menu-buttons">
                        <button class="menu-button" onclick="showMuseums()">${translations[lang].exploreButton}</button>
                        <button class="menu-button" onclick="showOtherServices()">${translations[lang].otherServices}</button>
                    </div>
                </div>
            `;
            scrollToBottom();
        }

        function getLanguageName(code) {
            const names = {
                'en': 'English',
                'kn': '‡≤ï‡≤®‡≥ç‡≤®‡≤°',
                'es': 'Espa√±ol'
            };
            return names[code];
        }

        function showMuseums() {
            const chatBox = document.getElementById("chat-box");
            const history = chatBox.innerHTML;
            
            const museums = [
                {
                    name: "HAL Heritage Centre and Aerospace Museum",
                    id: "hal"
                },
                {
                    name: "Government Museum",
                    id: "govt"
                },
                {
                    name: "Visvesvaraya Industrial & Technological Museum",
                    id: "vitm"
                },
                {
                    name: "Indian Music Experience Museum",
                    id: "music"
                },
                {
                    name: "Dr. Ambedkar Museum",
                    id: "ambedkar"
                },
                {
                    name: "Folk Museum (Janapada Loka)",
                    id: "folk"
                },
                {
                    name: "NIMHANS Brain Museum",
                    id: "brain"
                },
                {
                    name: "Kempegowda Museum",
                    id: "kempegowda"
                },
                {
                    name: "Karnataka Chitrakala Parishath",
                    id: "art"
                },
                {
                    name: "National Gallery of Modern Art",
                    id: "ngma"
                }
            ];
            
            // Create museum list with buttons
            let museumButtons = `
                <div class="chat-history">${history}</div>
                <div class="current-response">
                    <div class="message bot">
                        Top 10 Museums in Bangalore:
                        <div class="museum-buttons" style="display: flex; flex-direction: column; gap: 10px; margin-top: 15px;">
            `;
            
            museums.forEach((museum, index) => {
                museumButtons += `
                    <button 
                        onclick="handleMuseumChoice('${museum.id}')" 
                        class="menu-button" 
                        style="width: 100%; text-align: left; padding: 15px; margin: 5px 0;">
                        ${index + 1}. ${museum.name}
                    </button>
                `;
            });
            
            museumButtons += `</div></div>`;
            
            // Replace content instead of appending
            chatBox.innerHTML = museumButtons;
            scrollToBottom();
        }

        function showOtherServices() {
            const chatBox = document.getElementById("chat-box");
            const initialOptions = document.getElementById("initial-options");
            
            // Show user's choice
            chatBox.innerHTML += `<div class="message user">Other Services</div>`;
            
            // Hide the initial options
            initialOptions.style.display = 'none';
            
            // Show other services options
            // Add your other services content here
        }

        // Add this function to handle menu choices
        function handleMenuChoice(type) {
            const chatBox = document.getElementById("chat-box");
            
            // Show user's selection
            chatBox.innerHTML += `<div class="message user">${translations[currentLanguage][type]}</div>`;
            
            // Handle different menu options
            if (type === 'book') {
                startBookingProcess(selectedMuseum);
            } else {
                handleMuseumDetails(selectedMuseum, type);
            }
            scrollToBottom();
        }

        // Update handleMuseumChoice to store the selected museum
        function handleMuseumChoice(museumId) {
            const chatBox = document.getElementById("chat-box");
            selectedMuseum = museumId;
            const museums = {
                hal: "HAL Heritage Centre and Aerospace Museum",
                govt: "Government Museum",
                vitm: "Visvesvaraya Industrial & Technological Museum",
                music: "Indian Music Experience Museum",
                ambedkar: "Dr. Ambedkar Museum",
                folk: "Folk Museum (Janapada Loka)",
                brain: "NIMHANS Brain Museum",
                kempegowda: "Kempegowda Museum",
                art: "Karnataka Chitrakala Parishath",
                ngma: "National Gallery of Modern Art"
            };

            // Keep chat history
            const history = chatBox.innerHTML;
            chatBox.innerHTML = `
                <div class="chat-history">${history}</div>
                <div class="current-response">
                    <div class="message bot active">
                        ${translations[currentLanguage].museumInfo.replace('%s', museums[museumId])}
                        <div class="menu-buttons" style="margin-top: 10px;">
                            <button class="menu-button" onclick="handleMenuChoice('timings')">${translations[currentLanguage].timings}</button>
                            <button class="menu-button" onclick="handleMenuChoice('fees')">${translations[currentLanguage].fees}</button>
                            <button class="menu-button" onclick="handleMenuChoice('events')">${translations[currentLanguage].events}</button>
                            <button class="menu-button" onclick="handleMenuChoice('book')">${translations[currentLanguage].bookTickets}</button>
                            <button class="menu-button" onclick="handleMenuChoice('facilities')">${translations[currentLanguage].facilities}</button>
                        </div>
                    </div>
                </div>
            `;
            scrollToBottom();
        }

        // Rest of your existing functions...

        const museumDetails = {
            hal: {
                name: {
                    en: "HAL Heritage Centre and Aerospace Museum",
                    kn: "‡≤π‡≥Ü‡≤ö‡≥ç‚Äå‡≤é‡≤é‡≤≤‡≥ç ‡≤™‡≤∞‡≤Ç‡≤™‡≤∞‡≥Ü ‡≤ï‡≥á‡≤Ç‡≤¶‡≥ç‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤µ‡≥à‡≤Æ‡≤æ‡≤®‡≤ø‡≤ï ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                    es: "Centro de Patrimonio HAL y Museo Aeroespacial"
                },
                timings: {
                    regular: {
                        en: "Tuesday to Sunday: 9:00 AM to 5:00 PM",
                        kn: "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≤µ‡≤æ‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤≠‡≤æ‡≤®‡≥Å‡≤µ‡≤æ‡≤∞‡≤¶‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 9:00 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:00 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Martes a domingo: 9:00 AM a 5:00 PM"
                    },
                    holidays: {
                        en: "Closed on Mondays and National Holidays",
                        kn: "‡≤∏‡≥ã‡≤Æ‡≤µ‡≤æ‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤∞‡≤ú‡≤æ‡≤¶‡≤ø‡≤®‡≤ó‡≤≥‡≤Ç‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤ö‡≥ç‡≤ö‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Cerrado los lunes y festivos nacionales"
                    },
                    lastEntry: {
                        en: "Last entry at 4:00 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∏‡≤Ç‡≤ú‡≥Ü 4:00 ‡≤ó‡≤Ç‡≤ü‡≥Ü‡≤ó‡≥Ü",
                        es: "√öltima entrada a las 4:00 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "‚Çπ50",
                            kn: "‚Çπ50",
                            es: "‚Çπ50"
                        },
                        child: {
                            en: "‚Çπ30",
                            kn: "‚Çπ30",
                            es: "‚Çπ30"
                        },
                        student: {
                            en: "‚Çπ25 (with valid ID)",
                            kn: "‚Çπ25 (‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤ê‡≤°‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü)",
                            es: "‚Çπ25 (con identificaci√≥n v√°lida)"
                        }
                    },
                    foreign: {
                        // Similar structure for foreign visitors
                    }
                },
                events: [
                    {
                        name: {
                            en: "Aircraft Engine Display",
                            kn: "‡≤µ‡≤ø‡≤Æ‡≤æ‡≤® ‡≤é‡≤Ç‡≤ú‡≤ø‡≤®‡≥ç ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®",
                            es: "Exposici√≥n de Motores de Aeronaves"
                        },
                        date: {
                            en: "Permanent Exhibition",
                            kn: "‡≤∂‡≥ç‡≤µ‡≤§ ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®",
                            es: "Exposici√≥n Permanente"
                        },
                        description: {
                            en: "See real aircraft engines up close",
                            kn: "‡≤®‡≤øÔøΩÔøΩÔøΩÔøΩÔøΩ‡≤æ‡≤¶ ‡≤µ‡≤ø‡≤Æ‡≤æ‡≤® ‡≤é‡≤Ç‡≤ú‡≤ø‡≤®‡≥ç‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≤§‡≥ç‡≤§‡≤ø‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤®‡≥ã‡≤°‡≤ø",
                            es: "Ver motores de aviones reales de cerca"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Parking",
                            kn: "‡≤™‡≤æ‡≤∞‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç",
                            es: "Estacionamiento"
                        },
                        description: {
                            en: "Free parking available",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§ ‡≤™‡≤æ‡≤∞‡≥ç‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤¶‡≥Ü",
                            es: "Estacionamiento gratuito disponible"
                        },
                        icon: "üÖøÔ∏è"
                    }
                ]
            },
            vitm: {
                name: {
                    en: "Visvesvaraya Industrial & Technological Museum",
                    kn: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≥á‡≤∂‡≥ç‡≤µ‡≤∞‡≤Ø‡≥ç‡≤Ø ‡≤ï‡≥à‡≤ó‡≤æ‡≤∞‡≤ø‡≤ï‡≤æ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤§‡≤æ‡≤Ç‡≤§‡≥ç‡≤∞‡≤ø‡≤ï ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                    es: "Museo Industrial y Tecnol√≥gico Visvesvaraya"
                },
                timings: {
                    regular: {
                        en: "All days: 9:30 AM to 6:00 PM",
                        kn: "‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤¶‡≤ø‡≤®‡≤ó‡≤≥‡≥Å: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 9:30 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤∏‡≤Ç‡≤ú‡≥Ü 6:00 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Todos los d√≠as: 9:30 AM a 6:00 PM"
                    },
                    holidays: {
                        en: "Open on all days except Ganesha Chaturthi and Deepavali",
                        kn: "‡≤ó‡≤£‡≥á‡≤∂ ‡≤ö‡≤§‡≥Å‡≤∞‡≥ç‡≤•‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¶‡≥Ä‡≤™‡≤æ‡≤µ‡≤≥‡≤ø ‡≤π‡≥ä‡≤∞‡≤§‡≥Å‡≤™‡≤°‡≤ø‡≤∏‡≤ø ‡≤é‡≤≤‡≥ç‡≤≤‡≤æ ‡≤¶‡≤ø‡≤®‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≥Ç ‡≤§‡≥Ü‡≤∞‡≥Ü‡≤¶‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Abierto todos los d√≠as excepto Ganesha Chaturthi y Deepavali"
                    },
                    lastEntry: {
                        en: "Last entry at 5:30 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:30 ‡≤ï‡≥ç‡≤ï‡≥Ü",
                        es: "√öltima entrada a las 5:30 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "‚Çπ60",
                            kn: "‚Çπ60",
                            es: "‚Çπ60"
                        },
                        child: {
                            en: "‚Çπ30",
                            kn: "‚Çπ30",
                            es: "‚Çπ30"
                        },
                        student: {
                            en: "‚Çπ30 (with valid ID)",
                            kn: "‚Çπ30 (‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤ê‡≤°‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü)",
                            es: "‚Çπ30 (con identificaci√≥n v√°lida)"
                        }
                    },
                    foreign: {
                        adult: {
                            en: "‚Çπ600",
                            kn: "‚Çπ600",
                            es: "‚Çπ600"
                        },
                        child: {
                            en: "‚Çπ300",
                            kn: "‚Çπ300",
                            es: "‚Çπ300"
                        },
                        student: {
                            en: "‚Çπ300",
                            kn: "‚Çπ300",
                            es: "‚Çπ300"
                        }
                    }
                },
                events: [
                    {
                        name: {
                            en: "Science Demo Shows",
                            kn: "‡≤µ‡≤ø‡≤ú‡≥ç‡≤û‡≤æ‡≤® ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤ó‡≤≥‡≥Å",
                            es: "Demostraciones Cient√≠ficas"
                        },
                        date: {
                            en: "Daily",
                            kn: "‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤¶‡≤ø‡≤®",
                            es: "Diariamente"
                        },
                        description: {
                            en: "Interactive science demonstrations",
                            kn: "‡≤∏‡≤Ç‡≤µ‡≤æ‡≤¶‡≤æ‡≤§‡≥ç‡≤Æ‡≤ï ‡≤µ‡≤ø‡≤ú‡≥ç‡≤û‡≤æ‡≤® ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤ó‡≤≥‡≥Å",
                            es: "Demostraciones cient√≠ficas interactivas"
                        }
                    },
                    {
                        name: {
                            en: "3D Film Shows",
                            kn: "3D ‡≤ö‡≤≤‡≤®‡≤ö‡≤ø‡≤§‡≥ç‡≤∞ ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤ó‡≤≥‡≥Å",
                            es: "Pel√≠culas en 3D"
                        },
                        date: {
                            en: "Hourly",
                            kn: "‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤ó‡≤Ç‡≤ü‡≥Ü‡≤ó‡≥Ü",
                            es: "Cada hora"
                        },
                        description: {
                            en: "Educational 3D movies",
                            kn: "‡≤∂‡≥à‡≤ï‡≥ç‡≤∑‡≤£‡≤ø‡≤ï 3D ‡≤ö‡≤≤‡≤®‡≤ö‡≤ø‡≤§‡≥ç‡≤∞‡≤ó‡≤≥‡≥Å",
                            es: "Pel√≠culas educativas en 3D"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Cafeteria",
                            kn: "‡≤â‡≤™‡≤π‡≤æ‡≤∞ ‡≤ó‡≥É‡≤π",
                            es: "Cafeter√≠a"
                        },
                        description: {
                            en: "Food court available",
                            kn: "‡≤Ü‡≤π‡≤æ‡≤∞ ‡≤ï‡≥ã‡≤∞‡≥ç‡≤ü‡≥ç ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤¶‡≥Ü",
                            es: "Patio de comidas disponible"
                        },
                        icon: "‚òï"
                    },
                    {
                        name: {
                            en: "Gift Shop",
                            kn: "‡≤â‡≤°‡≥Å‡≤ó‡≥ä‡≤∞‡≥Ü ‡≤Ö‡≤Ç‡≤ó‡≤°‡≤ø",
                            es: "Tienda de Regalos"
                        },
                        description: {
                            en: "Science toys and souvenirs",
                            kn: "‡≤µ‡≤ø‡≤ú‡≥ç‡≤û‡≤æ‡≤® ‡≤Ü‡≤ü‡≤ø‡≤ï‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≥ç‡≤Æ‡≤∞‡≤£‡≤ø‡≤ï‡≥Ü‡≤ó‡≤≥‡≥Å",
                            es: "Juguetes cient√≠ficos y recuerdos"
                        },
                        icon: "üõçÔ∏è"
                    }
                ]
            },
            music: {
                name: {
                    en: "Indian Music Experience Museum",
                    kn: "‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø ‡≤∏‡≤Ç‡≤ó‡≥Ä‡≤§ ‡≤Ö‡≤®‡≥Å‡≤≠‡≤µ ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                    es: "Museo de la Experiencia Musical India"
                },
                timings: {
                    regular: {
                        en: "Tuesday to Sunday: 10:00 AM to 6:00 PM",
                        kn: "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≤µ‡≤æ‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤≠‡≤æ‡≤®‡≥Å‡≤µ‡≤æ‡≤∞‡≤¶‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 10:00 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤∏‡≤Ç‡≤ú‡≥Ü 6:00 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Martes a domingo: 10:00 AM a 6:00 PM"
                    },
                    holidays: {
                        en: "Closed on Mondays",
                        kn: "‡≤∏‡≥ã‡≤Æ‡≤µ‡≤æ‡≤∞ ‡≤Æ‡≥Å‡≤ö‡≥ç‡≤ö‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Cerrado los lunes"
                    },
                    lastEntry: {
                        en: "Last entry at 5:00 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:00 ‡≤ï‡≥ç‡≤ï‡≥Ü",
                        es: "√öltima entrada a las 5:00 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "‚Çπ250",
                            kn: "‚Çπ250",
                            es: "‚Çπ250"
                        },
                        child: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        },
                        student: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        }
                    },
                    foreign: {
                        adult: {
                            en: "‚Çπ500",
                            kn: "‚Çπ500",
                            es: "‚Çπ500"
                        },
                        child: {
                            en: "‚Çπ250",
                            kn: "‚Çπ250",
                            es: "‚Çπ250"
                        },
                        student: {
                            en: "‚Çπ250",
                            kn: "‚Çπ250",
                            es: "‚Çπ250"
                        }
                    }
                },
                events: [
                    {
                        name: {
                            en: "Sound Garden",
                            kn: "‡≤ß‡≥ç‡≤µ‡≤®‡≤ø ‡≤â‡≤¶‡≥ç‡≤Ø‡≤æ‡≤®",
                            es: "Jard√≠n del Sonido"
                        },
                        date: {
                            en: "Daily",
                            kn: "‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤¶‡≤ø‡≤®",
                            es: "Diariamente"
                        },
                        description: {
                            en: "Interactive musical instruments",
                            kn: "‡≤∏‡≤Ç‡≤µ‡≤æ‡≤¶‡≤æ‡≤§‡≥ç‡≤Æ‡≤ï ‡≤∏‡≤Ç‡≤ó‡≥Ä‡≤§ ‡≤µ‡≤æ‡≤¶‡≥ç‡≤Ø‡≤ó‡≤≥‡≥Å",
                            es: "Instrumentos musicales interactivos"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Recording Studio",
                            kn: "‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤∏‡≥ç‡≤ü‡≥Å‡≤°‡≤ø‡≤Ø‡≥ã",
                            es: "Estudio de Grabaci√≥n"
                        },
                        description: {
                            en: "Professional recording facility",
                            kn: "‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø‡≤™‡≤∞ ‡≤∞‡≥Ü‡≤ï‡≤æ‡≤∞‡≥ç‡≤°‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤∏‡≥å‡≤≤‡≤≠‡≥ç‡≤Ø",
                            es: "Instalaci√≥n de grabaci√≥n profesional"
                        },
                        icon: "üéôÔ∏è"
                    }
                ]
            },
            govt: {
                name: {
                    en: "Government Museum",
                    kn: "‡≤∏‡≤∞‡≥ç‡≤ï‡≤æ‡≤∞‡≤ø ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                    es: "Museo Gubernamental"
                },
                timings: {
                    regular: {
                        en: "Tuesday to Sunday: 10:00 AM to 5:30 PM",
                        kn: "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≤µ‡≤æ‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤≠‡≤æ‡≤®‡≥Å‡≤µ‡≤æ‡≤∞‡≤¶‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 10:00 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:30 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Martes a domingo: 10:00 AM a 5:30 PM"
                    },
                    holidays: {
                        en: "Closed on Mondays and Government Holidays",
                        kn: "‡≤∏‡≥ã‡≤Æ‡≤µ‡≤æ‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤∞‡≥ç‡≤ï‡≤æ‡≤∞‡≤ø ‡≤∞‡≤ú‡≤æ‡≤¶‡≤ø‡≤®‡≤ó‡≤≥‡≤Ç‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤ö‡≥ç‡≤ö‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Cerrado los lunes y festivos gubernamentales"
                    },
                    lastEntry: {
                        en: "Last entry at 5:00 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:00 ‡≤ï‡≥ç‡≤ï‡≥Ü",
                        es: "√öltima entrada a las 5:00 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "‚Çπ20",
                            kn: "‚Çπ20",
                            es: "‚Çπ20"
                        },
                        child: {
                            en: "‚Çπ10",
                            kn: "‚Çπ10",
                            es: "‚Çπ10"
                        },
                        student: {
                            en: "‚Çπ10",
                            kn: "‚Çπ10",
                            es: "‚Çπ10"
                        }
                    },
                    foreign: {
                        adult: {
                            en: "‚Çπ200",
                            kn: "‚Çπ200",
                            es: "‚Çπ200"
                        },
                        child: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        },
                        student: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        }
                    }
                },
                events: [
                    {
                        name: {
                            en: "Archaeological Gallery",
                            kn: "‡≤™‡≥Å‡≤∞‡≤æ‡≤§‡≤§‡≥ç‡≤µ ‡≤ó‡≥ç‡≤Ø‡≤æ‡≤≤‡≤∞‡≤ø",
                            es: "Galer√≠a Arqueol√≥gica"
                        },
                        date: {
                            en: "Permanent Exhibition",
                            kn: "‡≤∂‡≤æ‡≤∂‡≥ç‡≤µ‡≤§ ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®",
                            es: "Exposici√≥n Permanente"
                        },
                        description: {
                            en: "Ancient artifacts and sculptures",
                            kn: "‡≤™‡≥ç‡≤∞‡≤æ‡≤ö‡≥Ä‡≤® ‡≤ï‡≤≤‡≤æ‡≤ï‡≥É‡≤§‡≤ø‡≤ó‡≤≥‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∂‡≤ø‡≤≤‡≥ç‡≤™‡≤ó‡≤≥‡≥Å",
                            es: "Artefactos y esculturas antiguas"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Guide Service",
                            kn: "‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ó‡≤¶‡≤∞‡≥ç‡≤∂‡≤ø ‡≤∏‡≥á‡≤µ‡≥Ü",
                            es: "Servicio de Gu√≠a"
                        },
                        description: {
                            en: "Available in multiple languages",
                            kn: "‡≤π‡≤≤‡≤µ‡≤æ‡≤∞‡≥Å ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤¶‡≥Ü",
                            es: "Disponible en varios idiomas"
                        },
                        icon: "üé§"
                    }
                ]
            },
            brain: {
                name: {
                    en: "NIMHANS Brain Museum",
                    kn: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤π‡≤æ‡≤®‡≥ç‡≤∏‡≥ç ‡≤Æ‡≥Ü‡≤¶‡≥Å‡≤≥‡≥Å ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤∏‡≤Ç‡≤ó‡≥ç‡≤∞‡≤π‡≤æ‡≤≤‡≤Ø",
                    es: "Museo del Cerebro NIMHANS"
                },
                timings: {
                    regular: {
                        en: "Monday to Saturday: 10:00 AM to 3:30 PM",
                        kn: "‡≤∏‡≥ã‡≤Æ‡≤µ‡≤æ‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤∂‡≤®‡≤ø‡≤µ‡≤æ‡≤∞‡≤¶‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 10:00 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤æ‡≤π‡≥ç‡≤® 3:30 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Lunes a s√°bado: 10:00 AM a 3:30 PM"
                    },
                    holidays: {
                        en: "Closed on Sundays and Public Holidays",
                        kn: "‡≤≠‡≤æ‡≤®‡≥Å‡≤µ‡≤æ‡≤∞ ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤æ‡≤∞‡≥ç‡≤µ‡≤ú‡≤®‡≤ø‡≤ï ‡≤∞‡≤ú‡≤æ‡≤¶‡≤ø‡≤®‡≤ó‡≤≥‡≤Ç‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤ö‡≥ç‡≤ö‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Cerrado los domingos y festivos"
                    },
                    lastEntry: {
                        en: "Last entry at 3:00 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤æ‡≤π‡≥ç‡≤® 3:00 ‡≤ï‡≥ç‡≤ï‡≥Ü",
                        es: "√öltima entrada a las 3:00 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        },
                        child: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        },
                        student: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        }
                    },
                    foreign: {
                        adult: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        },
                        child: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        },
                        student: {
                            en: "Free",
                            kn: "‡≤â‡≤ö‡≤ø‡≤§",
                            es: "Gratis"
                        }
                    }
                },
                events: [
                    {
                        name: {
                            en: "Brain Awareness Week",
                            kn: "‡≤Æ‡≥Ü‡≤¶‡≥Å‡≤≥‡≥Å ‡≤ú‡≤æ‡≤ó‡≥É‡≤§‡≤ø ‡≤µ‡≤æ‡≤∞",
                            es: "Semana de Concientizaci√≥n sobre el Cerebro"
                        },
                        date: {
                            en: "March (Annual)",
                            kn: "‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ö‡≥ç (‡≤µ‡≤æ‡≤∞‡≥ç‡≤∑‡≤ø‡≤ï)",
                            es: "Marzo (Anual)"
                        },
                        description: {
                            en: "Special exhibitions and lectures",
                            kn: "‡≤µ‡≤ø‡≤∂‡≥á‡≤∑ ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤ó‡≤≥‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤â‡≤™‡≤®‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≤≥‡≥Å",
                            es: "Exposiciones especiales y conferencias"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Guided Tours",
                            kn: "‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ó‡≤¶‡≤∞‡≥ç‡≤∂‡≤ø ‡≤™‡≥ç‡≤∞‡≤µ‡≤æ‡≤∏‡≤ó‡≤≥‡≥Å",
                            es: "Visitas Guiadas"
                        },
                        description: {
                            en: "Expert-led tours available",
                            kn: "‡≤§‡≤ú‡≥ç‡≤û‡≤∞ ‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ó‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤™‡≥ç‡≤∞‡≤µ‡≤æ‡≤∏‡≤ó‡≤≥‡≥Å ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤¶‡≥Ü",
                            es: "Visitas guiadas por expertos disponibles"
                        },
                        icon: "üë•"
                    }
                ]
            },
            folk: {
                name: {
                    en: "Folk Museum (Janapada Loka)",
                    kn: "‡≤ú‡≤æ‡≤®‡≤™‡≤¶ ‡≤≤‡≥ã‡≤ï",
                    es: "Museo Folcl√≥rico (Janapada Loka)"
                },
                timings: {
                    regular: {
                        en: "Tuesday to Sunday: 9:30 AM to 5:30 PM",
                        kn: "‡≤Æ‡≤Ç‡≤ó‡≤≥‡≤µ‡≤æ‡≤∞‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤≠‡≤æ‡≤®‡≥Å‡≤µ‡≤æ‡≤∞‡≤¶‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü: ‡≤¨‡≥Ü‡≤≥‡≤ø‡≤ó‡≥ç‡≤ó‡≥Ü 9:30 ‡≤∞‡≤ø‡≤Ç‡≤¶ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:30 ‡≤∞‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü",
                        es: "Martes a domingo: 9:30 AM a 5:30 PM"
                    },
                    holidays: {
                        en: "Closed on Mondays",
                        kn: "‡≤∏‡≥ã‡≤Æ‡≤µ‡≤æ‡≤∞ ‡≤Æ‡≥Å‡≤ö‡≥ç‡≤ö‡≤ø‡≤∞‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü",
                        es: "Cerrado los lunes"
                    },
                    lastEntry: {
                        en: "Last entry at 5:00 PM",
                        kn: "‡≤ï‡≥ä‡≤®‡≥Ü‡≤Ø ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂ ‡≤∏‡≤Ç‡≤ú‡≥Ü 5:00 ‡≤ï‡≥ç‡≤ï‡≥Ü",
                        es: "√öltima entrada a las 5:00 PM"
                    }
                },
                fees: {
                    indian: {
                        adult: {
                            en: "‚Çπ50",
                            kn: "‚Çπ50",
                            es: "‚Çπ50"
                        },
                        child: {
                            en: "‚Çπ25",
                            kn: "‚Çπ25",
                            es: "‚Çπ25"
                        },
                        student: {
                            en: "‚Çπ25 (with valid ID)",
                            kn: "‚Çπ25 (‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤ê‡≤°‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü)",
                            es: "‚Çπ25 (con identificaci√≥n v√°lida)"
                        }
                    },
                    foreign: {
                        adult: {
                            en: "‚Çπ200",
                            kn: "‚Çπ200",
                            es: "‚Çπ200"
                        },
                        child: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        },
                        student: {
                            en: "‚Çπ100",
                            kn: "‚Çπ100",
                            es: "‚Çπ100"
                        }
                    }
                },
                events: [
                    {
                        name: {
                            en: "Folk Dance Performance",
                            kn: "‡≤ú‡≤æ‡≤®‡≤™‡≤¶ ‡≤®‡≥É‡≤§‡≥ç‡≤Ø ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®",
                            es: "Espect√°culo de Danza Folcl√≥rica"
                        },
                        date: {
                            en: "Weekends",
                            kn: "‡≤µ‡≤æ‡≤∞‡≤æ‡≤Ç‡≤§‡≥ç‡≤Ø‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø",
                            es: "Fines de semana"
                        },
                        description: {
                            en: "Traditional folk dance performances",
                            kn: "‡≤∏‡≤æ‡≤Ç‡≤™‡≥ç‡≤∞‡≤¶‡≤æ‡≤Ø‡≤ø‡≤ï ‡≤ú‡≤æ‡≤®‡≤™‡≤¶ ‡≤®‡≥É‡≤§‡≥ç‡≤Ø ‡≤™‡≥ç‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤®‡≤ó‡≤≥‡≥Å",
                            es: "Actuaciones de danza folcl√≥rica tradicional"
                        }
                    }
                ],
                facilities: [
                    {
                        name: {
                            en: "Craft Shop",
                            kn: "‡≤ï‡≤∞‡≤ï‡≥Å‡≤∂‡≤≤ ‡≤Ö‡≤Ç‡≤ó‡≤°‡≤ø",
                            es: "Tienda de Artesan√≠a"
                        },
                        description: {
                            en: "Traditional handicrafts for sale",
                            kn: "‡≤∏‡≤æ‡≤Ç‡≤™‡≥ç‡≤∞‡≤¶‡≤æ‡≤Ø‡≤ø‡≤ï ‡≤ï‡≤∞‡≤ï‡≥Å‡≤∂‡≤≤ ‡≤µ‡≤∏‡≥ç‡≤§‡≥Å‡≤ó‡≤≥ ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü",
                            es: "Artesan√≠as tradicionales a la venta"
                        },
                        icon: "üõçÔ∏è"
                    }
                ]
            }
        };

        function handleMuseumDetails(museumId, type) {
            const chatBox = document.getElementById("chat-box");
            const museum = museumDetails[museumId];
            const t = detailTranslations[currentLanguage];

            if (!museum) {
                chatBox.innerHTML += `
                    <div class="message bot">
                        Sorry, details for this museum are not available at the moment.
                    </div>
                `;
                return;
            }

            let response = '';
            switch(type) {
                case 'timings':
                    response = `
                        <div class="museum-info">
                            <h3>${t.operatingHours}</h3>
                            <p>${museum.timings.regular[currentLanguage]}</p>
                            <p>${museum.timings.holidays[currentLanguage]}</p>
                            <p><small>${t.lastEntry}: ${museum.timings.lastEntry[currentLanguage]}</small></p>
                        </div>
                    `;
                    break;
                case 'fees':
                    response = `
                        <div class="museum-info">
                            <h3>${t.entryFees}</h3>
                            <div class="fees-section">
                                <h4>${t.indianNationals}</h4>
                                <ul>
                                    <li>${t.adults}: ${museum.fees.indian.adult[currentLanguage]}</li>
                                    <li>${t.children}: ${museum.fees.indian.child[currentLanguage]}</li>
                                    <li>${t.students}: ${museum.fees.indian.student[currentLanguage]}</li>
                                </ul>
                                <h4>${t.foreignNationals}</h4>
                                <ul>
                                    <li>${t.adults}: ${museum.fees.foreign.adult[currentLanguage]}</li>
                                    <li>${t.children}: ${museum.fees.foreign.child[currentLanguage]}</li>
                                    <li>${t.students}: ${museum.fees.foreign.student[currentLanguage]}</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case 'events':
                    response = `
                        <div class="museum-info">
                            <h3>${t.specialEvents}</h3>
                            <div class="events-list">
                                ${museum.events.map(event => `
                                    <div class="event-card">
                                        <h4>${event.name[currentLanguage]}</h4>
                                        <p>${event.description[currentLanguage]}</p>
                                        <small>${event.date[currentLanguage]}</small>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                    break;
                case 'facilities':
                    response = `
                        <div class="museum-info">
                            <h3>${t.facilities}</h3>
                            <div class="facilities-grid">
                                ${museum.facilities.map(facility => `
                                    <div class="facility-card">
                                        <span class="facility-icon">${facility.icon}</span>
                                        <h4>${facility.name[currentLanguage]}</h4>
                                        <p>${facility.description[currentLanguage]}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                    break;
            }

            chatBox.innerHTML += `<div class="message bot">${response}</div>`;
            scrollToBottom();
        }

        function startBookingProcess(museumId) {
            const chatBox = document.getElementById("chat-box");
            const museum = museumDetails[museumId];
            
            chatBox.innerHTML += `
                <div class="message bot">
                    How many tickets would you like to book for ${museum.name[currentLanguage]}?
                    <div class="number-picker">
                        <button onclick="selectTickets(1)">1</button>
                        <button onclick="selectTickets(2)">2</button>
                        <button onclick="selectTickets(3)">3</button>
                        <button onclick="selectTickets(4)">4</button>
                        <button onclick="selectTickets(5)">5</button>
                        <input type="number" min="1" max="20" placeholder="Other" onchange="selectTickets(this.value)">
                    </div>
                </div>
            `;
            scrollToBottom();
        }

        function selectTickets(quantity) {
            const chatBox = document.getElementById("chat-box");
            const t = translations[currentLanguage];
            // Show user's selection
            chatBox.innerHTML += `<div class="message user">${quantity} ${t.ticketsLabel}</div>`;
            
            // Store quantity and show date picker
            window.ticketQuantity = quantity;
            showDatePicker();
        }

        function showDatePicker() {
            const chatBox = document.getElementById("chat-box");
            const today = new Date().toISOString().split('T')[0];
            
            chatBox.innerHTML += `
                <div class="message bot">
                    Please select your visit date:
                    <input type="date" min="${today}" onchange="handleDateSelection(this.value)" class="date-picker">
                </div>
            `;
            scrollToBottom();
        }

        function handleDateSelection(date) {
            const chatBox = document.getElementById("chat-box");
            const t = translations[currentLanguage];
            // Format and show user's date selection
            const formattedDate = new Date(date).toLocaleDateString(
                currentLanguage === 'en' ? 'en-US' : 
                currentLanguage === 'kn' ? 'kn-IN' : 
                'es-ES',
                { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                }
            );
            chatBox.innerHTML += `<div class="message user">${t.dateLabel}: ${formattedDate}</div>`;
            
            window.selectedDate = date;
            // Show time selection after date
            chatBox.innerHTML += `
                <div class="message bot">
                    ${t.timePrompt}
                    <select onchange="handleTimeSelection(this.value)" class="time-input">
                        <option value="">${t.selectTime}</option>
                        <option value="10:00">10:00 AM</option>
                        <option value="11:00">11:00 AM</option>
                        <option value="12:00">12:00 PM</option>
                        <option value="13:00">1:00 PM</option>
                        <option value="14:00">2:00 PM</option>
                        <option value="15:00">3:00 PM</option>
                        <option value="16:00">4:00 PM</option>
                        <option value="17:00">5:00 PM</option>
                    </select>
                </div>
            `;
            scrollToBottom();
        }

        function handleTimeSelection(time) {
            const chatBox = document.getElementById("chat-box");
            const t = translations[currentLanguage];
            
            // Show user's time selection
            chatBox.innerHTML += `<div class="message user">${t.timeLabel}: ${time}</div>`;
            
            window.selectedTime = time;
            const museum = museumDetails[selectedMuseum];
            const dateObj = new Date(window.selectedDate);
            const formattedDate = dateObj.toLocaleDateString(
                currentLanguage === 'en' ? 'en-US' : 
                currentLanguage === 'kn' ? 'kn-IN' : 
                'es-ES', 
                { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                }
            );
            
            // Show booking confirmation
            chatBox.innerHTML += `
                <div class="message bot">
                    ${t.confirmBooking}<br><br>
                    ${t.museumLabel}: ${museum.name[currentLanguage]}<br>
                    ${t.dateLabel}: ${formattedDate}<br>
                    ${t.timeLabel}: ${time}<br>
                    ${t.ticketsLabel}: ${window.ticketQuantity}<br><br>
                    ${t.proceedQuestion}
                    <div class="menu-buttons" style="margin-top: 10px;">
                        <button class="menu-button" onclick="showNationalitySelection()">${t.confirm}</button>
                        <button class="menu-button" onclick="startBookingProcess('${selectedMuseum}')">${t.startOver}</button>
                    </div>
                </div>
            `;
            scrollToBottom();
        }

        function showNationalitySelection() {
            const chatBox = document.getElementById("chat-box");
            
            // Show nationality selection
            chatBox.innerHTML += `
                <div class="message bot">
                    ${translations[currentLanguage].nationalityPrompt}
                    <div class="menu-buttons" style="margin-top: 10px;">
                        <button class="menu-button" onclick="completeBooking('indian')">${translations[currentLanguage].indian}</button>
                        <button class="menu-button" onclick="completeBooking('foreign')">${translations[currentLanguage].foreigner}</button>
                    </div>
                </div>
            `;
            scrollToBottom();
        }

        function completeBooking(nationality) {
            const chatBox = document.getElementById("chat-box");
            const t = translations[currentLanguage];
            const museum = museumDetails[selectedMuseum];
            
            // Show user's nationality selection
            chatBox.innerHTML += `<div class="message user">${t.nationalityLabel}: ${t[nationality]}</div>`;
            chatBox.innerHTML += `<div class="message bot">${t.redirectingPayment}</div>`;
            
            // Calculate price based on nationality and museum
            const price = calculatePrice(selectedMuseum, nationality);
            
            // Redirect to payment page with all booking details
            window.location.href = `/payment?` + new URLSearchParams({
                museum: selectedMuseum,
                museum_name: museum.name[currentLanguage],
                number_of_people: window.ticketQuantity,
                nationality: nationality,
                date: window.selectedDate,
                time: window.selectedTime,
                price: price,
                language: currentLanguage
            });
        }

        function calculatePrice(museumId, nationality) {
            const museum = museumDetails[museumId];
            if (!museum || !museum.fees) return 0;
            
            const fees = nationality === 'indian' ? museum.fees.indian : museum.fees.foreign;
            return parseInt(fees.adult[currentLanguage].replace('‚Çπ', '')) * window.ticketQuantity;
        }

        function scrollToBottom() {
            const chatBox = document.getElementById("chat-box");
            setTimeout(() => {
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 100);
        }

        // Add this in your script section
        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const chatBox = document.getElementById('chat-box');
            const message = userInput.value.trim();

            if (message) {
                // Add user message to chat
                chatBox.innerHTML += `<div class="message user">${message}</div>`;
                
                // Clear input
                userInput.value = '';

                // Send to backend and get response
                fetch('/get_response', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: message })
                })
                .then(response => response.json())
                .then(data => {
                    // Add bot response to chat
                    chatBox.innerHTML += `<div class="message bot">${data.response}</div>`;
                    scrollToBottom();
                })
                .catch(error => {
                    console.error('Error:', error);
                    chatBox.innerHTML += `<div class="message bot">Sorry, I'm having trouble responding right now.</div>`;
                    scrollToBottom();
                });

                scrollToBottom();
            }
        }

        // Add event listener for Enter key
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>